<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>The Vault</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet"/>
<style>
:root {
  --bg:#0f0e17; --surface:#1a1826; --card:#211f32; --border:#2e2b47;
  --text:#f0eeff; --muted:#7a758f;
  --pink:#ff6bcb; --yellow:#ffe566; --cyan:#5ee7ff;
  --green:#7cff6b; --orange:#ff9a3c; --purple:#b16bff; --red:#ff4466;
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);color:var(--text);font-family:'Nunito',sans-serif;min-height:100vh;overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background:
  radial-gradient(ellipse 600px 400px at 10% 20%,rgba(177,107,255,.07) 0%,transparent 70%),
  radial-gradient(ellipse 500px 500px at 90% 80%,rgba(255,107,203,.07) 0%,transparent 70%),
  radial-gradient(ellipse 400px 300px at 50% 50%,rgba(94,231,255,.04) 0%,transparent 70%);
  pointer-events:none;z-index:0;animation:blobshift 12s ease-in-out infinite alternate;}
@keyframes blobshift{0%{transform:scale(1) rotate(0deg)}100%{transform:scale(1.05) rotate(2deg)}}

/* HEADER */
header{position:relative;z-index:10;padding:1.1rem 2rem;display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid var(--border);}
.logo{font-family:'Fredoka One',cursive;font-size:1.8rem;color:var(--yellow);text-shadow:3px 3px 0 rgba(255,229,102,.15);}
.logo span{color:var(--pink);}
.header-right{display:flex;align-items:center;gap:0.75rem;}
.header-badge{background:var(--pink);color:#000;font-size:.58rem;font-weight:900;padding:.13rem .5rem;border-radius:99px;text-transform:uppercase;letter-spacing:.08em;animation:pulse 2s ease-in-out infinite;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
.admin-btn{background:rgba(255,229,102,.1);color:var(--yellow);border:2px solid rgba(255,229,102,.25);font-family:'Nunito',sans-serif;font-size:.75rem;font-weight:900;padding:.4rem .9rem;border-radius:9px;cursor:pointer;transition:all .2s;}
.admin-btn:hover{background:var(--yellow);color:#000;}

/* TABS */
.tab-bar{position:sticky;top:0;z-index:20;display:flex;background:var(--surface);border-bottom:2px solid var(--border);overflow-x:auto;}
.tab-bar::-webkit-scrollbar{height:3px;} .tab-bar::-webkit-scrollbar-thumb{background:var(--pink);}
.tab-btn{position:relative;padding:.85rem 1.4rem;background:none;border:none;color:var(--muted);font-family:'Nunito',sans-serif;font-size:.86rem;font-weight:800;cursor:pointer;white-space:nowrap;transition:color .2s;display:flex;align-items:center;gap:.4rem;}
.tab-btn:hover{color:var(--text);}
.tab-btn.active{color:var(--text);}
.tab-btn.active::after{content:'';position:absolute;bottom:-2px;left:0;right:0;height:3px;}
.tab-btn[data-tab="meshes"].active::after{background:var(--cyan);}
.tab-btn[data-tab="movesets"].active::after{background:var(--pink);}
.tab-btn[data-tab="tutorials"].active::after{background:var(--yellow);}
.tab-btn[data-tab="sounds"].active::after{background:var(--green);}

/* TAB PANELS */
.tab-panel{display:none;position:relative;z-index:5;padding:2rem;max-width:1300px;margin:0 auto;}
.tab-panel.active{display:block;animation:fadein .22s ease;}
@keyframes fadein{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:none}}

/* PAGE TITLE */
.page-title{font-family:'Fredoka One',cursive;font-size:1.9rem;margin-bottom:.2rem;}
.page-sub{color:var(--muted);font-size:.86rem;margin-bottom:1.5rem;font-weight:600;}

/* STATS */
.stats-row{display:flex;gap:.75rem;flex-wrap:wrap;margin-bottom:1.4rem;}
.stat-pill{background:var(--card);border:2px solid var(--border);border-radius:12px;padding:.5rem 1rem;display:flex;align-items:center;gap:.45rem;font-weight:800;font-size:.8rem;}
.stat-num{font-family:'Fredoka One',cursive;font-size:1rem;}

/* SEARCH */
.search-row{display:flex;gap:.7rem;margin-bottom:1.4rem;}
.search-row input{flex:1;background:var(--card);border:2px solid var(--border);border-radius:12px;color:var(--text);font-family:'Nunito',sans-serif;font-size:.88rem;font-weight:700;padding:.62rem 1rem;outline:none;transition:border-color .2s;}
.search-row input:focus{border-color:var(--cyan);}
.search-row input::placeholder{color:var(--muted);}

/* CARDS GRID */
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:1rem;margin-bottom:1.75rem;}

/* MESH CARD */
.mesh-card{background:var(--card);border:2px solid var(--border);border-radius:16px;overflow:hidden;transition:transform .2s,border-color .2s,box-shadow .2s;}
.mesh-card:hover{transform:translateY(-4px) rotate(-.5deg);border-color:var(--cyan);box-shadow:0 8px 30px rgba(94,231,255,.14);}
.mesh-thumb{width:100%;aspect-ratio:1;background:var(--surface);display:flex;align-items:center;justify-content:center;overflow:hidden;}
.mesh-thumb img{width:100%;height:100%;object-fit:cover;}
.thumb-ph{display:flex;flex-direction:column;align-items:center;gap:.35rem;color:var(--muted);font-size:.62rem;font-weight:800;text-transform:uppercase;letter-spacing:.09em;}
.thumb-ph .bi{font-size:2.4rem;opacity:.3;}
.mesh-body{padding:.95rem 1.1rem 1.1rem;}
.asset-id{font-size:.66rem;font-weight:900;color:var(--cyan);letter-spacing:.07em;text-transform:uppercase;margin-bottom:.22rem;}
.card-name{font-size:.98rem;font-weight:900;margin-bottom:.18rem;}
.card-author{font-size:.73rem;font-weight:700;color:var(--muted);margin-bottom:.5rem;}
.card-desc{font-size:.77rem;font-weight:600;color:var(--muted);line-height:1.5;margin-bottom:.7rem;}
.tags{display:flex;flex-wrap:wrap;gap:.28rem;margin-bottom:.75rem;}
.tag{font-size:.6rem;font-weight:800;padding:.16rem .48rem;border-radius:99px;text-transform:uppercase;letter-spacing:.04em;}
.tag-cyan{background:rgba(94,231,255,.11);color:var(--cyan);}
.tag-pink{background:rgba(255,107,203,.11);color:var(--pink);}
.tag-green{background:rgba(124,255,107,.11);color:var(--green);}
.tag-yellow{background:rgba(255,229,102,.11);color:var(--yellow);}
.tag-orange{background:rgba(255,154,60,.11);color:var(--orange);}
.tag-purple{background:rgba(177,107,255,.11);color:var(--purple);}
.card-actions{display:flex;gap:.38rem;flex-wrap:wrap;}

/* BTN */
.btn{display:inline-flex;align-items:center;gap:.32rem;padding:.48rem .88rem;border-radius:10px;font-family:'Nunito',sans-serif;font-size:.74rem;font-weight:900;border:2px solid transparent;cursor:pointer;transition:all .17s;text-decoration:none;}
.btn-cyan{background:rgba(94,231,255,.12);color:var(--cyan);border-color:rgba(94,231,255,.26);}
.btn-cyan:hover{background:var(--cyan);color:#000;}
.btn-pink{background:rgba(255,107,203,.12);color:var(--pink);border-color:rgba(255,107,203,.26);}
.btn-pink:hover{background:var(--pink);color:#000;}
.btn-green{background:rgba(124,255,107,.12);color:var(--green);border-color:rgba(124,255,107,.26);}
.btn-green:hover{background:var(--green);color:#000;}
.btn-yellow{background:rgba(255,229,102,.12);color:var(--yellow);border-color:rgba(255,229,102,.26);}
.btn-yellow:hover{background:var(--yellow);color:#000;}
.btn-red{background:rgba(255,68,102,.12);color:var(--red);border-color:rgba(255,68,102,.26);}
.btn-red:hover{background:var(--red);color:#fff;}
.btn-ghost{background:transparent;color:var(--muted);border-color:var(--border);}
.btn-ghost:hover{color:var(--text);border-color:var(--muted);}

/* MOVESET CARD */
.moveset-card{background:var(--card);border:2px solid var(--border);border-radius:16px;padding:1.2rem;transition:transform .2s,border-color .2s,box-shadow .2s;}
.moveset-card:hover{transform:translateY(-3px);border-color:var(--pink);box-shadow:0 6px 25px rgba(255,107,203,.12);}
.moveset-header{display:flex;align-items:flex-start;justify-content:space-between;gap:.7rem;margin-bottom:.6rem;flex-wrap:wrap;}
.code-block{background:#07060f;border:2px solid var(--border);border-radius:10px;padding:.8rem .95rem;font-family:'Courier New',monospace;font-size:.7rem;color:#a8ffb8;overflow-x:auto;margin-bottom:.8rem;white-space:pre-wrap;word-break:break-all;max-height:150px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--pink) transparent;line-height:1.7;}
.code-block::-webkit-scrollbar{width:4px;height:4px;} .code-block::-webkit-scrollbar-thumb{background:var(--pink);border-radius:2px;}

/* TUTORIAL CARD */
.tutorial-card{background:var(--card);border:2px solid var(--border);border-radius:16px;overflow:hidden;transition:transform .2s,border-color .2s,box-shadow .2s;}
.tutorial-card:hover{transform:translateY(-4px) rotate(.4deg);border-color:var(--yellow);box-shadow:0 8px 30px rgba(255,229,102,.12);}
.tutorial-thumb{width:100%;aspect-ratio:16/9;background:var(--surface);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;}
.tutorial-thumb img{width:100%;height:100%;object-fit:cover;}
.yt-badge{position:absolute;top:.5rem;left:.5rem;background:#f00;color:#fff;font-size:.56rem;font-weight:900;padding:.11rem .42rem;border-radius:4px;text-transform:uppercase;letter-spacing:.06em;}
.img-badge{position:absolute;top:.5rem;left:.5rem;background:var(--yellow);color:#000;font-size:.56rem;font-weight:900;padding:.11rem .42rem;border-radius:4px;text-transform:uppercase;letter-spacing:.06em;}
.tutorial-body{padding:.88rem 1.05rem 1.05rem;}

/* SOUND CARD */
.sound-card{background:var(--card);border:2px solid var(--border);border-radius:16px;padding:1.05rem 1.2rem;transition:transform .2s,border-color .2s,box-shadow .2s;display:flex;flex-direction:column;gap:.42rem;}
.sound-card:hover{transform:translateY(-4px) rotate(-.5deg);border-color:var(--green);box-shadow:0 8px 30px rgba(124,255,107,.12);}
.sound-wave{display:flex;align-items:flex-end;gap:3px;height:24px;margin-bottom:.15rem;}
.sound-wave span{width:4px;border-radius:2px;background:var(--green);opacity:.5;animation:wave 1s ease-in-out infinite alternate;}
.sound-wave span:nth-child(1){height:30%;animation-delay:0s;}.sound-wave span:nth-child(2){height:80%;animation-delay:.1s;}.sound-wave span:nth-child(3){height:50%;animation-delay:.2s;}.sound-wave span:nth-child(4){height:100%;animation-delay:.3s;}.sound-wave span:nth-child(5){height:60%;animation-delay:.4s;}.sound-wave span:nth-child(6){height:40%;animation-delay:.5s;}.sound-wave span:nth-child(7){height:70%;animation-delay:.15s;}
@keyframes wave{0%{transform:scaleY(.4);opacity:.35}100%{transform:scaleY(1);opacity:.9}}
.mesh-copy-grid{display:grid;grid-template-columns:1fr 1fr;gap:.4rem;margin-top:.6rem;}
.mesh-copy-btn{background:rgba(94,231,255,.07);border:1.5px solid rgba(94,231,255,.18);border-radius:9px;padding:.45rem .6rem;cursor:pointer;text-align:left;transition:all .18s;display:flex;flex-direction:column;gap:.1rem;}
.mesh-copy-btn:hover{background:rgba(94,231,255,.18);border-color:var(--cyan);}
.mesh-copy-label{font-size:.58rem;font-weight:900;color:var(--cyan);text-transform:uppercase;letter-spacing:.07em;}
.mesh-copy-val{font-family:'Courier New',monospace;font-size:.62rem;color:var(--muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}
.mesh-copy-btn:hover .mesh-copy-val{color:var(--text);}

/* SOUND ID display */
.sound-id{font-family:'Courier New',monospace;font-size:.72rem;color:var(--green);background:rgba(124,255,107,.08);border:1px solid rgba(124,255,107,.17);border-radius:7px;padding:.28rem .55rem;}

/* PENDING BADGE */
.pending-badge{background:rgba(255,229,102,.15);color:var(--yellow);border:1px solid rgba(255,229,102,.3);font-size:.58rem;font-weight:900;padding:.12rem .45rem;border-radius:6px;text-transform:uppercase;letter-spacing:.07em;}

/* ADD PANEL */
details{background:var(--card);border:2px solid var(--border);border-radius:16px;margin-top:.5rem;overflow:hidden;}
details[open]{border-color:var(--pink);}
summary{padding:.95rem 1.2rem;cursor:pointer;font-weight:900;font-size:.93rem;list-style:none;display:flex;align-items:center;justify-content:space-between;user-select:none;}
summary::after{content:'ï¼‹';font-size:1.05rem;color:var(--muted);}
details[open] summary::after{content:'ï¼';color:var(--pink);}
summary::-webkit-details-marker{display:none;}
details>.panel-body{padding:0 1.4rem 1.4rem;}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:.8rem;margin-bottom:.8rem;}
.form-group{display:flex;flex-direction:column;gap:.28rem;}
.form-group.span2{grid-column:1/-1;}
label{font-size:.68rem;font-weight:900;text-transform:uppercase;letter-spacing:.07em;color:var(--muted);}
label .req{color:var(--pink);margin-left:.12rem;}
input,textarea,select{background:var(--surface);border:2px solid var(--border);border-radius:10px;color:var(--text);font-family:'Nunito',sans-serif;font-size:.86rem;font-weight:700;padding:.58rem .82rem;outline:none;transition:border-color .2s;width:100%;}
input:focus,textarea:focus,select:focus{border-color:var(--pink);}
input::placeholder,textarea::placeholder{color:var(--muted);font-weight:600;}
textarea{resize:vertical;min-height:72px;}
select option{background:var(--surface);}
.form-actions{display:flex;gap:.55rem;flex-wrap:wrap;margin-top:.95rem;}
.field-note{font-size:.66rem;color:var(--muted);font-weight:600;margin-top:.18rem;}

/* ASSET VALIDATION */
.validate-row{display:flex;align-items:center;gap:.6rem;margin-top:.35rem;}
.validate-badge{font-size:.68rem;font-weight:900;padding:.22rem .55rem;border-radius:7px;display:none;}
.validate-badge.ok{background:rgba(124,255,107,.12);color:var(--green);border:1px solid rgba(124,255,107,.25);display:inline-block;}
.validate-badge.err{background:rgba(255,68,102,.12);color:var(--red);border:1px solid rgba(255,68,102,.25);display:inline-block;}
.validate-badge.checking{background:rgba(255,229,102,.1);color:var(--yellow);border:1px solid rgba(255,229,102,.22);display:inline-block;}

/* EMPTY STATE */
.empty-state{text-align:center;padding:3.5rem 2rem;color:var(--muted);grid-column:1/-1;}
.empty-state .ei{font-size:2.7rem;margin-bottom:.55rem;opacity:.4;}
.empty-state p{font-size:.86rem;font-weight:700;}

/* TOAST */
.toast{position:fixed;bottom:1.5rem;right:1.5rem;background:var(--pink);color:#000;font-weight:900;font-size:.83rem;padding:.68rem 1.15rem;border-radius:12px;z-index:2000;transform:translateY(80px);opacity:0;transition:all .3s;box-shadow:0 4px 20px rgba(255,107,203,.3);}
.toast.show{transform:translateY(0);opacity:1;}

@media(max-width:640px){
  .tab-panel{padding:1.2rem;}
  .form-row{grid-template-columns:1fr;}
  .form-group.span2{grid-column:1;}
  .cards-grid{grid-template-columns:1fr;}
}
</style>
</head>
<body>

<header>
  <div>
    <span class="logo">The <span>Vault</span></span>
    <span class="header-badge">community</span>
  </div>
  <div class="header-right"></div>
</header>

<div class="tab-bar">
  <button class="tab-btn active" data-tab="meshes" onclick="switchTab('meshes')"><span>ğŸ§±</span> Meshes</button>
  <button class="tab-btn" data-tab="movesets" onclick="switchTab('movesets')"><span>âš”ï¸</span> Movesets</button>
  <button class="tab-btn" data-tab="tutorials" onclick="switchTab('tutorials')"><span>ğŸ“º</span> Tutorials</button>
  <button class="tab-btn" data-tab="sounds" onclick="switchTab('sounds')"><span>ğŸ”Š</span> Sound FX</button>
</div>

<!-- â•â• MESHES â•â• -->
<div class="tab-panel active" id="tab-meshes">
  <div class="page-title">ğŸ§± Mesh Library</div>
  <div class="page-sub">Roblox mesh asset IDs. Each ID is auto-linked to the catalog and verified before submission.</div>
  <div class="stats-row">
    <div class="stat-pill">ğŸ§± <span class="stat-num" id="mesh-count">0</span> meshes</div>
    <div class="stat-pill">ğŸ‘¤ <span class="stat-num" id="mesh-creators">0</span> contributors</div>
  </div>
  <div class="search-row"><input id="mesh-search" placeholder="ğŸ”  search by name, ID, tag..." oninput="filterMeshes()"/></div>
  <div class="cards-grid" id="mesh-grid"></div>
  <details>
    <summary>â• Submit a Mesh</summary>
    <div class="panel-body">
      <div class="form-row">
        <div class="form-group">
          <label>Asset ID<span class="req">*</span></label>
          <input id="m-assetid" placeholder="e.g. 4442399410" oninput="validateAsset('m-assetid','m-validate','Mesh')"/>
          <div class="validate-row"><span class="validate-badge" id="m-validate"></span></div>
        </div>
        <div class="form-group">
          <label>Mesh Name<span class="req">*</span></label>
          <input id="m-name" placeholder="e.g. Low Poly Rock"/>
        </div>
        <div class="form-group">
          <label>Your Username <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <input id="m-author" placeholder="Roblox username"/>
        </div>
        <div class="form-group">
          <label>Category</label>
          <input id="m-category" placeholder="e.g. Nature, Props, Weapons..." list="mesh-cats"/>
          <datalist id="mesh-cats">
            <option value="Nature"/><option value="Buildings"/><option value="Vehicles"/>
            <option value="Characters"/><option value="Props"/><option value="Weapons"/>
            <option value="Effects"/><option value="Other"/>
          </datalist>
        </div>
        <div class="form-group span2">
          <label>Tags <span style="color:var(--muted);text-transform:none;font-weight:600;">(comma separated)</span></label>
          <input id="m-tags" placeholder="e.g. low-poly, terrain, free"/>
        </div>
        <div class="form-group span2">
          <label>Description</label>
          <textarea id="m-desc" placeholder="Poly count, usage tips, etc..."></textarea>
        </div>
        <div class="form-group span2" id="m-img-group" style="display:none;">
          <label>Preview Image URL <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional â€” Roblox thumbnail used by default)</span></label>
          <input id="m-img" placeholder="https://..."/>
        </div>
      </div>
      <div class="field-note">â³ Submissions go to an approval queue â€” an admin will review before it appears publicly.</div>
      <div class="form-actions">
        <button class="btn btn-cyan" onclick="submitMesh()">Submit for Approval</button>
      </div>
    </div>
  </details>
</div>

<!-- â•â• MOVESETS â•â• -->
<div class="tab-panel" id="tab-movesets">
  <div class="page-title">âš”ï¸ Movesets</div>
  <div class="page-sub">Import codes for Roblox movesets. Paste the code in-game to load instantly.</div>
  <div class="stats-row">
    <div class="stat-pill">âš”ï¸ <span class="stat-num" id="moveset-count">0</span> movesets</div>
  </div>
  <div class="search-row"><input id="moveset-search" placeholder="ğŸ”  search movesets..." oninput="filterMovesets()"/></div>
  <div id="moveset-grid" style="display:flex;flex-direction:column;gap:.9rem;margin-bottom:1.75rem;"></div>
  <details>
    <summary>â• Submit a Moveset</summary>
    <div class="panel-body">
      <div class="form-row">
        <div class="form-group">
          <label>Moveset Name<span class="req">*</span></label>
          <input id="mv-name" placeholder="e.g. Shinjuku Yuji"/>
        </div>
        <div class="form-group">
          <label>Your Username <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <input id="mv-author" placeholder="Roblox username"/>
        </div>
        <div class="form-group span2">
          <label>Import Code<span class="req">*</span></label>
          <textarea id="mv-code" style="min-height:120px;font-family:'Courier New',monospace;font-size:.76rem;" placeholder="Paste the full moveset import code here..."></textarea>
        </div>
        <div class="form-group span2">
          <label>Description <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <textarea id="mv-desc" placeholder="What does this moveset do? Combos, tips..."></textarea>
        </div>
        <div class="form-group span2">
          <label>Tags <span style="color:var(--muted);text-transform:none;font-weight:600;">(comma separated)</span></label>
          <input id="mv-tags" placeholder="e.g. pvp, speed, beginner-friendly"/>
        </div>
      </div>
      <div class="field-note">â³ Submissions go to an approval queue.</div>
      <div class="form-actions">
        <button class="btn btn-pink" onclick="submitMoveset()">Submit for Approval</button>
      </div>
    </div>
  </details>
</div>

<!-- â•â• TUTORIALS â•â• -->
<div class="tab-panel" id="tab-tutorials">
  <div class="page-title">ğŸ“º Tutorials & Resources</div>
  <div class="page-sub">YouTube videos and image guides for Roblox dev.</div>
  <div class="stats-row">
    <div class="stat-pill">ğŸ“º <span class="stat-num" id="tutorial-count">0</span> resources</div>
  </div>
  <div class="search-row"><input id="tutorial-search" placeholder="ğŸ”  search tutorials..." oninput="filterTutorials()"/></div>
  <div class="cards-grid" id="tutorial-grid"></div>
  <details>
    <summary>â• Submit a Resource</summary>
    <div class="panel-body">
      <div class="form-row">
        <div class="form-group">
          <label>Title<span class="req">*</span></label>
          <input id="t-title" placeholder="e.g. How to rig a custom character"/>
        </div>
        <div class="form-group">
          <label>Your Username <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <input id="t-author" placeholder="Roblox username"/>
        </div>
        <div class="form-group">
          <label>Type<span class="req">*</span></label>
          <select id="t-type">
            <option value="youtube">ğŸ“º YouTube Video</option>
            <option value="image">ğŸ–¼ï¸ Image / Guide</option>
          </select>
        </div>
        <div class="form-group">
          <label>Tags <span style="color:var(--muted);text-transform:none;font-weight:600;">(comma separated)</span></label>
          <input id="t-tags" placeholder="e.g. rigging, animation"/>
        </div>
        <div class="form-group span2">
          <label>URL<span class="req">*</span> <span style="color:var(--muted);font-weight:600;text-transform:none;">(YouTube link or direct image URL)</span></label>
          <input id="t-url" placeholder="https://youtube.com/watch?v=..."/>
        </div>
        <div class="form-group span2">
          <label>Description <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <textarea id="t-desc" placeholder="What does this cover? Skill level?"></textarea>
        </div>
      </div>
      <div class="field-note">â³ Submissions go to an approval queue.</div>
      <div class="form-actions">
        <button class="btn btn-yellow" onclick="submitTutorial()">Submit for Approval</button>
      </div>
    </div>
  </details>
</div>

<!-- â•â• SOUNDS â•â• -->
<div class="tab-panel" id="tab-sounds">
  <div class="page-title">ğŸ”Š Sound FX IDs</div>
  <div class="page-sub">Roblox audio asset IDs. Copy and drop straight into your game.</div>
  <div class="stats-row">
    <div class="stat-pill">ğŸ”Š <span class="stat-num" id="sound-count">0</span> sounds</div>
  </div>
  <div class="search-row"><input id="sound-search" placeholder="ğŸ”  search sounds..." oninput="filterSounds()"/></div>
  <div class="cards-grid" id="sound-grid"></div>
  <details>
    <summary>â• Submit a Sound FX</summary>
    <div class="panel-body">
      <div class="form-row">
        <div class="form-group">
          <label>Sound Name<span class="req">*</span></label>
          <input id="s-name" placeholder="e.g. Sword Swing"/>
        </div>
        <div class="form-group">
          <label>Asset ID<span class="req">*</span></label>
          <input id="s-assetid" placeholder="e.g. 9042013222" oninput="validateAsset('s-assetid','s-validate','Audio')"/>
          <div class="validate-row"><span class="validate-badge" id="s-validate"></span></div>
        </div>
        <div class="form-group">
          <label>Your Username <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <input id="s-author" placeholder="Roblox username"/>
        </div>
        <div class="form-group">
          <label>Category</label>
          <input id="s-category" placeholder="e.g. Combat, Ambient, UI..." list="sound-cats"/>
          <datalist id="sound-cats">
            <option value="Combat"/><option value="Ambient"/><option value="UI"/>
            <option value="Footsteps"/><option value="Music"/><option value="Magic"/>
            <option value="Voice"/><option value="Other"/>
          </datalist>
        </div>
        <div class="form-group span2">
          <label>Description <span style="color:var(--muted);text-transform:none;font-weight:600;">(optional)</span></label>
          <textarea id="s-desc" placeholder="What does this sound like? When to use it?"></textarea>
        </div>
        <div class="form-group span2">
          <label>Tags <span style="color:var(--muted);text-transform:none;font-weight:600;">(comma separated)</span></label>
          <input id="s-tags" placeholder="e.g. hit, slash, free"/>
        </div>
      </div>
      <div class="field-note">â³ Submissions go to an approval queue.</div>
      <div class="form-actions">
        <button class="btn btn-green" onclick="submitSound()">Submit for Approval</button>
      </div>
    </div>
  </details>
</div>

<div class="toast" id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONSTANTS & UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const COLORS = ['tag-cyan','tag-pink','tag-green','tag-yellow','tag-orange','tag-purple'];
const tc = i => COLORS[i % COLORS.length];

const DB = {
  save: (k,d) => { try{ localStorage.setItem('vault_'+k, JSON.stringify(d)); }catch(e){} },
  load: k => { try{ const r=localStorage.getItem('vault_'+k); return r?JSON.parse(r):null; }catch(e){ return null; } }
};

const v    = id => document.getElementById(id)?.value.trim() ?? '';
const el   = id => document.getElementById(id);
const clr  = (...ids) => ids.forEach(id => { const e=el(id); if(e) e.value=''; });
const empty = (icon,msg) => `<div class="empty-state"><div class="ei">${icon}</div><p>${msg}</p></div>`;

function toast(msg, col){
  const e=el('toast');
  e.textContent=msg;
  e.style.background=col||'var(--pink)';
  e.style.color=(col&&col.includes('4466'))?'#fff':'#000';
  e.classList.add('show');
  clearTimeout(e._t);
  e._t=setTimeout(()=>e.classList.remove('show'),3000);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let meshes    = DB.load('meshes')    || [];
let movesets  = DB.load('movesets')  || [];
let tutorials = DB.load('tutorials') || [];
let sounds    = DB.load('sounds')    || [];

// Settings
const SETTINGS_DEF = { customImages: false, requireApproval: true };
let settings = DB.load('settings') || { ...SETTINGS_DEF };
const getSetting = k => settings[k] !== undefined ? settings[k] : SETTINGS_DEF[k];

function saveSetting(k, val){
  settings[k] = val;
  DB.save('settings', settings);
}

// Admin password (hashed lightly â€” not real security, just a deterrent)
function hashStr(s){ let h=0; for(const c of s){ h=(h<<5)-h+c.charCodeAt(0); h|=0; } return h; }
let adminHash = DB.load('adminHash') || hashStr('vault2024');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TABS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function switchTab(tab){
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.toggle('active',b.dataset.tab===tab));
  document.querySelectorAll('.tab-panel').forEach(p=>p.classList.toggle('active',p.id==='tab-'+tab));
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ASSET TYPE VALIDATION via Roblox API proxy
// Roblox's asset-type endpoint: GET https://develop.roblox.com/v1/assets/{id}/details
// We use the catalog API which is CORS-accessible for asset type
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const ASSET_TYPE_MAP = {
  // TypeId -> human name
  1:'Image', 2:'TShirt', 3:'Audio', 4:'Mesh', 5:'Lua', 8:'Hat', 10:'Place',
  11:'Model', 12:'Shirt', 13:'Pants', 17:'Decal', 18:'Avatar', 21:'Badge',
  24:'Animation', 25:'Torso', 26:'RightArm', 27:'LeftArm', 28:'LeftLeg',
  29:'RightLeg', 30:'Package', 31:'YouTubeVideo', 32:'GamePass', 34:'Plugin',
  37:'Clothing', 38:'MeshPart', 40:'MeshPart', 43:'TShirtAccessory',
  44:'ShirtAccessory', 45:'PantsAccessory', 46:'JacketAccessory',
  47:'SweaterAccessory', 48:'ShortsAccessory', 49:'LeftShoeAccessory',
  50:'RightShoeAccessory', 51:'FaceAccessory', 52:'NeckAccessory',
  53:'ShoulderAccessory', 54:'FrontAccessory', 55:'BackAccessory',
  56:'WaistAccessory', 57:'ClimbAnimation', 58:'DeathAnimation',
  59:'FallAnimation', 60:'IdleAnimation', 61:'JumpAnimation',
  62:'RunAnimation', 63:'SwimAnimation', 64:'WalkAnimation',
  65:'PoseAnimation', 66:'LocalizationTableManifest', 67:'LocalizationTableTranslation',
  68:'EmoteAnimation', 69:'Video', 70:'TexturePack', 71:'TShirtAccessory',
  72:'OverallAccessory', 73:'EarAccessory', 74:'EyeAccessory', 75:'MoodAnimation',
  76:'DynamicHead'
};

// Types we consider "Mesh/Model"
const MESH_TYPES = new Set([4,10,11,38,40,'Mesh','MeshPart','Model','Place']);
// Types we consider "Audio"
const AUDIO_TYPES = new Set([3,'Audio']);
// Types that are clothing â€” blocked
const CLOTHING_TYPES = new Set([2,12,13,17,37,43,44,45,46,47,48,49,50,51,52,53,54,55,56,'Clothing','TShirt','Shirt','Pants',
  'TShirtAccessory','ShirtAccessory','PantsAccessory','JacketAccessory','SweaterAccessory','ShortsAccessory',
  'LeftShoeAccessory','RightShoeAccessory','FaceAccessory','NeckAccessory','ShoulderAccessory',
  'FrontAccessory','BackAccessory','WaistAccessory']);

const validateCache = {};

async function validateAsset(inputId, badgeId, expectedKind) {
  const assetId = el(inputId)?.value.trim();
  const badge = el(badgeId);
  if (!badge) return true;
  if (!assetId || isNaN(assetId)) { badge.className='validate-badge'; return false; }

  if (validateCache[assetId]) {
    return applyValidation(badge, validateCache[assetId], expectedKind);
  }

  badge.textContent='Checking...';
  badge.className='validate-badge checking';

  try {
    const res = await fetch(`https://economy.roblox.com/v2/assets/${assetId}/details`);
    if (!res.ok) throw new Error('not found');
    const data = await res.json();
    const typeId = data.AssetTypeId;
    const typeName = ASSET_TYPE_MAP[typeId] || 'Unknown';
    validateCache[assetId] = { typeId, typeName };
    return applyValidation(badge, { typeId, typeName }, expectedKind);
  } catch(e) {
    // CORS fallback: try catalog API
    try {
      const res2 = await fetch(`https://www.roblox.com/marketplace/productinfo?assetId=${assetId}`);
      if (!res2.ok) throw new Error();
      const data2 = await res2.json();
      const typeId = data2.AssetTypeId;
      const typeName = ASSET_TYPE_MAP[typeId] || 'Unknown';
      validateCache[assetId] = { typeId, typeName };
      return applyValidation(badge, { typeId, typeName }, expectedKind);
    } catch(e2) {
      badge.textContent='âš  Could not verify (submit anyway)';
      badge.className='validate-badge checking';
      return true; // allow if API unreachable
    }
  }
}

function applyValidation(badge, { typeId, typeName }, expectedKind) {
  // Block clothing always
  if (CLOTHING_TYPES.has(typeId) || CLOTHING_TYPES.has(typeName)) {
    badge.textContent=`âœ• Clothing items not accepted (${typeName})`;
    badge.className='validate-badge err';
    return false;
  }
  if (expectedKind === 'Mesh') {
    if (MESH_TYPES.has(typeId) || MESH_TYPES.has(typeName)) {
      badge.textContent=`âœ“ ${typeName} â€” looks good!`;
      badge.className='validate-badge ok';
      return true;
    } else if (AUDIO_TYPES.has(typeId) || AUDIO_TYPES.has(typeName)) {
      badge.textContent=`âœ• This is an Audio asset â€” use the Sound tab`;
      badge.className='validate-badge err';
      return false;
    } else {
      badge.textContent=`âš  Type: ${typeName} â€” may not be a mesh`;
      badge.className='validate-badge checking';
      return true;
    }
  }
  if (expectedKind === 'Audio') {
    if (AUDIO_TYPES.has(typeId) || AUDIO_TYPES.has(typeName)) {
      badge.textContent=`âœ“ Audio asset â€” good!`;
      badge.className='validate-badge ok';
      return true;
    } else if (MESH_TYPES.has(typeId) || MESH_TYPES.has(typeName)) {
      badge.textContent=`âœ• This is a ${typeName} â€” use the Mesh tab`;
      badge.className='validate-badge err';
      return false;
    } else {
      badge.textContent=`âš  Type: ${typeName} â€” may not be audio`;
      badge.className='validate-badge checking';
      return true;
    }
  }
  return true;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER â€” MESHES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderMeshes(list) {
  el('mesh-count').textContent = meshes.length;
  el('mesh-creators').textContent = new Set(meshes.map(m=>m.author||'anon').filter(a=>a!=='anon')).size || 'â€”';
  const g = el('mesh-grid');
  if (!list.length) { g.innerHTML=empty('ğŸ§±','No meshes yet â€” be the first to submit!'); return; }
  g.innerHTML = list.map(m => {
    const img = m.img || `https://thumbnails.roblox.com/v1/assets?assetIds=${m.assetId}&size=420x420&format=Png`;
    const tags = (m.tags||[]).map((t,i)=>`<span class="tag ${tc(i)}">${t}</span>`).join('');
    const author = m.author ? `by ${m.author} Â· ` : '';
    return `<div class="mesh-card">
      <div class="mesh-thumb">
        <img src="${img}" alt="${m.name}" onerror="this.parentElement.innerHTML='<div class=thumb-ph><div class=bi>ğŸ§±</div><span>no preview</span></div>'"/>
      </div>
      <div class="mesh-body">
        <div class="asset-id">ID: ${m.assetId}</div>
        <div class="card-name">${m.name}</div>
        <div class="card-author">${author}${m.category||''}</div>
        ${m.desc?`<div class="card-desc">${m.desc}</div>`:''}
        <div class="tags">${tags}</div>
        <div class="mesh-copy-grid">
          <button class="mesh-copy-btn" onclick="cp('${m.assetId}','Mesh ID copied!')">
            <span class="mesh-copy-label">MeshId</span>
            <span class="mesh-copy-val">${m.assetId}</span>
          </button>
          <button class="mesh-copy-btn" onclick="cp('${m.assetId}','Texture ID copied!')">
            <span class="mesh-copy-label">TextureId</span>
            <span class="mesh-copy-val">${m.assetId}</span>
          </button>
        </div>
        <div class="card-actions" style="margin-top:.55rem;">
          <a class="btn btn-cyan" href="https://www.roblox.com/catalog/${m.assetId}" target="_blank">â†— Roblox</a>
        </div>
      </div>
    </div>`;
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER â€” MOVESETS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Store codes in a map so onclick can reference by index safely
const _movesetCodes = {};

function renderMovesets(list) {
  el('moveset-count').textContent = movesets.length;
  const g = el('moveset-grid');
  if (!list.length) { g.innerHTML=empty('âš”ï¸','No movesets yet â€” submit yours below!'); return; }
  // Populate code map using the actual movesets array indices
  list.forEach((mv, i) => { _movesetCodes[i] = mv.code; });
  g.innerHTML = list.map((mv, i) => {
    const tags = (mv.tags||[]).map((t,ti)=>`<span class="tag ${tc(ti)}">${t}</span>`).join('');
    const safe = mv.code.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const author = mv.author ? `by ${mv.author}` : '';
    return `<div class="moveset-card">
      <div class="moveset-header">
        <div>
          <div class="card-name">âš”ï¸ ${mv.name}</div>
          ${author?`<div class="card-author">${author}</div>`:''}
        </div>
        <div class="tags" style="justify-content:flex-end;">${tags}</div>
      </div>
      ${mv.desc?`<div class="card-desc">${mv.desc}</div>`:''}
      <div class="code-block">${safe}</div>
      <div class="card-actions">
        <button class="btn btn-pink" onclick="cpMoveset(${i})">ğŸ“‹ Copy Import Code</button>
      </div>
    </div>`;
  }).join('');
}

function cpMoveset(i){
  const code = _movesetCodes[i];
  if(!code){ toast('Code not found!','#ff4466'); return; }
  cp(code, 'Import code copied! âš”ï¸');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER â€” TUTORIALS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTutorials(list) {
  el('tutorial-count').textContent = tutorials.length;
  const g = el('tutorial-grid');
  if (!list.length) { g.innerHTML=empty('ğŸ“º','No tutorials yet â€” check back soon!'); return; }
  g.innerHTML = list.map(t => {
    const tags = (t.tags||[]).map((tg,i)=>`<span class="tag ${tc(i)}">${tg}</span>`).join('');
    const author = t.author ? `by ${t.author}` : '';
    let thumb='',badge='';
    if (t.type==='youtube') {
      const ytId = ytExtract(t.url);
      thumb = ytId
        ? `<img src="https://img.youtube.com/vi/${ytId}/hqdefault.jpg" onerror="this.parentElement.innerHTML='<div class=thumb-ph><div class=bi>ğŸ“º</div><span>youtube</span></div>'">`
        : `<div class="thumb-ph"><div class="bi">ğŸ“º</div><span>youtube</span></div>`;
      badge='<span class="yt-badge">YouTube</span>';
    } else {
      thumb=`<img src="${t.url}" onerror="this.parentElement.innerHTML='<div class=thumb-ph><div class=bi>ğŸ–¼ï¸</div><span>image</span></div>'">`;
      badge='<span class="img-badge">Image</span>';
    }
    const safeUrl=t.url.replace(/'/g,'%27');
    return `<div class="tutorial-card">
      <div class="tutorial-thumb">${thumb}${badge}</div>
      <div class="tutorial-body">
        <div class="card-name">${t.title}</div>
        ${author?`<div class="card-author">${author}</div>`:''}
        ${t.desc?`<div class="card-desc">${t.desc}</div>`:''}
        <div class="tags">${tags}</div>
        <div class="card-actions">
          <a class="btn btn-yellow" href="${t.url}" target="_blank">â†— Open</a>
          <button class="btn btn-ghost" onclick="cp('${safeUrl}','Link copied!')">Copy Link</button>
        </div>
      </div>
    </div>`;
  }).join('');
}

function ytExtract(url){ const m=url.match(/(?:v=|youtu\.be\/|embed\/)([\w-]{11})/); return m?m[1]:null; }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER â€” SOUNDS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderSounds(list) {
  el('sound-count').textContent = sounds.length;
  const g = el('sound-grid');
  if (!list.length) { g.innerHTML=empty('ğŸ”Š','No sounds yet â€” submit yours below!'); return; }
  g.innerHTML = list.map(s => {
    const tags = (s.tags||[]).map((t,i)=>`<span class="tag ${tc(i)}">${t}</span>`).join('');
    const fullId=`rbxassetid://${s.assetId}`;
    const author = s.author ? `by ${s.author} Â· ` : '';
    return `<div class="sound-card">
      <div class="sound-wave"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
      <div class="card-name">${s.name}</div>
      <div class="card-author">${author}${s.category||''}</div>
      <div class="sound-id">${fullId}</div>
      ${s.desc?`<div class="card-desc">${s.desc}</div>`:''}
      <div class="tags">${tags}</div>
      <div class="card-actions">
        <button class="btn btn-green" onclick="cp('${s.assetId}','Sound ID copied! ğŸ”Š')">ğŸ“‹ Copy ID</button>
        <a class="btn btn-ghost" href="https://www.roblox.com/catalog/${s.assetId}" target="_blank">â†— Roblox</a>
      </div>
    </div>`;
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FILTERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function filterMeshes(){ const q=el('mesh-search').value.toLowerCase(); renderMeshes(q?meshes.filter(m=>m.name.toLowerCase().includes(q)||m.assetId.includes(q)||(m.author||'').toLowerCase().includes(q)||(m.tags||[]).some(t=>t.toLowerCase().includes(q))):meshes); }
function filterMovesets(){ const q=el('moveset-search').value.toLowerCase(); renderMovesets(q?movesets.filter(m=>m.name.toLowerCase().includes(q)||(m.author||'').toLowerCase().includes(q)||(m.tags||[]).some(t=>t.toLowerCase().includes(q))):movesets); }
function filterTutorials(){ const q=el('tutorial-search').value.toLowerCase(); renderTutorials(q?tutorials.filter(t=>t.title.toLowerCase().includes(q)||(t.author||'').toLowerCase().includes(q)||(t.tags||[]).some(tg=>tg.toLowerCase().includes(q))):tutorials); }
function filterSounds(){ const q=el('sound-search').value.toLowerCase(); renderSounds(q?sounds.filter(s=>s.name.toLowerCase().includes(q)||s.assetId.includes(q)||(s.author||'').toLowerCase().includes(q)||(s.tags||[]).some(t=>t.toLowerCase().includes(q))):sounds); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SUBMIT (public â€” goes to queue or direct)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function submitMesh() {
  const assetId=v('m-assetid'), name=v('m-name');
  if (!assetId||!name) { toast('Asset ID and name are required!','#ff4466'); return; }
  if (isNaN(assetId)) { toast('Asset ID must be a number!','#ff4466'); return; }
  const badge = el('m-validate');
  if (badge && badge.classList.contains('err')) { toast('Please fix the asset ID issue first!','#ff4466'); return; }
  const item = {
    id: Date.now(), assetId, name,
    author: v('m-author')||'',
    category: v('m-category')||'',
    tags: v('m-tags').split(',').map(t=>t.trim()).filter(Boolean),
    desc: v('m-desc'),
    img: getSetting('customImages') ? v('m-img') : ''
  };
  if (getSetting('requireApproval')) {
    const pm = DB.load('pendingMeshes')||[]; pm.push(item); DB.save('pendingMeshes', pm);
    toast('Submitted! Waiting for admin approval. â³');
  } else {
    meshes.unshift(item); DB.save('meshes', meshes); renderMeshes(meshes);
    toast('Mesh added! ğŸ§±');
  }
  clr('m-assetid','m-name','m-author','m-category','m-tags','m-desc','m-img');
  el('m-validate').className='validate-badge';
}

async function submitMoveset() {
  const name=v('mv-name'), code=v('mv-code');
  if (!name||!code) { toast('Name and import code are required!','#ff4466'); return; }
  const item = {
    id: Date.now(), name, code,
    author: v('mv-author')||'',
    desc: v('mv-desc'),
    tags: v('mv-tags').split(',').map(t=>t.trim()).filter(Boolean)
  };
  if (getSetting('requireApproval')) {
    const pm = DB.load('pendingMovesets')||[]; pm.push(item); DB.save('pendingMovesets', pm);
    toast('Submitted! Waiting for admin approval. â³');
  } else {
    movesets.unshift(item); DB.save('movesets', movesets); renderMovesets(movesets);
    toast('Moveset added! âš”ï¸');
  }
  clr('mv-name','mv-author','mv-code','mv-desc','mv-tags');
}

async function submitTutorial() {
  const title=v('t-title'), url=v('t-url');
  if (!title||!url) { toast('Title and URL are required!','#ff4466'); return; }
  const item = {
    id: Date.now(), title, url,
    type: v('t-type'),
    author: v('t-author')||'',
    desc: v('t-desc'),
    tags: v('t-tags').split(',').map(t=>t.trim()).filter(Boolean)
  };
  if (getSetting('requireApproval')) {
    const pt = DB.load('pendingTutorials')||[]; pt.push(item); DB.save('pendingTutorials', pt);
    toast('Submitted! Waiting for admin approval. â³');
  } else {
    tutorials.unshift(item); DB.save('tutorials', tutorials); renderTutorials(tutorials);
    toast('Tutorial added! ğŸ“º');
  }
  clr('t-title','t-author','t-url','t-desc','t-tags');
}

async function submitSound() {
  const name=v('s-name'), assetId=v('s-assetid');
  if (!name||!assetId) { toast('Name and asset ID are required!','#ff4466'); return; }
  if (isNaN(assetId)) { toast('Asset ID must be a number!','#ff4466'); return; }
  const badge = el('s-validate');
  if (badge && badge.classList.contains('err')) { toast('Please fix the asset ID issue first!','#ff4466'); return; }
  const item = {
    id: Date.now(), name, assetId,
    author: v('s-author')||'',
    category: v('s-category')||'',
    desc: v('s-desc'),
    tags: v('s-tags').split(',').map(t=>t.trim()).filter(Boolean)
  };
  if (getSetting('requireApproval')) {
    const ps = DB.load('pendingSounds')||[]; ps.push(item); DB.save('pendingSounds', ps);
    toast('Submitted! Waiting for admin approval. â³');
  } else {
    sounds.unshift(item); DB.save('sounds', sounds); renderSounds(sounds);
    toast('Sound added! ğŸ”Š');
  }
  clr('s-name','s-assetid','s-author','s-category','s-desc','s-tags');
  el('s-validate').className='validate-badge';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function cp(text, msg){
  navigator.clipboard.writeText(text)
    .then(()=>toast(msg||'Copied!'))
    .catch(()=>{
      const ta=document.createElement('textarea');
      ta.value=text;document.body.appendChild(ta);ta.select();
      document.execCommand('copy');document.body.removeChild(ta);
      toast(msg||'Copied!');
    });
}

function updateCustomImageField(){
  const g = document.getElementById('m-img-group');
  if (g) g.style.display = getSetting('customImages') ? 'flex' : 'none';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function init(){
  renderMeshes(meshes);
  renderMovesets(movesets);
  renderTutorials(tutorials);
  renderSounds(sounds);
  updateCustomImageField();
}

init();
</script>
</body>
</html>
